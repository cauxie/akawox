<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - Your Wallet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white min-h-screen p-4">

  <!-- Back Button + Welcome -->
  <div class="flex items-center mb-6">
    <a href="javascript:history.back()" class="text-white text-2xl mr-4">←</a>
    <h2 class="text-xl font-bold">Wallet</h2>
  </div>

  <!-- Wallet & Transactions -->
  <div class="grid grid-cols-1 gap-6 mb-10">

    <!-- Wallet Summary -->
    <div class="bg-zinc-900 p-6 rounded-xl shadow space-y-4">
      <p class="text-sm text-gray-400">Contribution Balance</p>
      <h1 class="text-3xl font-bold">₦{{ wallet.withdrawable_balance }}</h1>

      <div class="grid grid-cols-2 gap-4">
        <div class="bg-zinc-800 p-4 rounded-lg">
          <p class="text-xs text-gray-400">Card 1</p>
          <p class="font-bold">₦10,000.00</p>
        </div>
        <div class="bg-zinc-800 p-4 rounded-lg">
          <p class="text-xs text-gray-400">Card 2</p>
          <p class="font-bold">₦{{ wallet.withdrawable_balance }}</p>
        </div>
      </div>

      <div>
        <p class="text-sm text-gray-400 font-medium mb-2">Stacking Vaults</p>
        <div class="bg-zinc-800 p-4 rounded-lg flex justify-between items-center">
          <p class="font-bold">₦79,000.00</p>
          <div class="space-x-2">
            <button class="px-3 py-1 bg-zinc-700 text-white text-xs rounded">Add</button>
            <button class="px-3 py-1 bg-zinc-700 text-white text-xs rounded">Auto</button>
          </div>
        </div>
      </div>

      <div class="pt-4">
        <button class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded text-sm font-semibold w-full">Withdraw Funds</button>
      </div>
    </div>

    <!-- Latest Transactions -->
    <div class="bg-zinc-900 p-6 rounded-xl shadow">
      <h3 class="text-lg font-semibold mb-4">Latest Transactions</h3>
      <ul class="space-y-3 text-sm">
        {% for txn in recent_transactions %}
        <li class="flex justify-between">
          <span class="text-gray-300">{{ txn.description }}</span>
          <span class="{% if txn.amount < 0 %}text-red-400{% else %}text-green-400{% endif %}">₦{{ txn.amount|floatformat:2 }}</span>
        </li>
        {% empty %}
        <li class="text-gray-500 italic">No transactions yet.</li>
        {% endfor %}
      </ul>

      {% if latest_payment %}
      <div class="mt-6 border-t border-zinc-800 pt-4 space-y-2">
        <h4 class="font-semibold text-sm text-white">Payment Details</h4>
        <p class="text-xs text-gray-400">From: {{ latest_payment.from_account }}</p>
        <p class="font-bold text-lg text-green-400">+₦{{ latest_payment.amount }}</p>
        <div class="text-xs text-gray-400">{{ latest_payment.type }} | {{ latest_payment.category }}</div>
        <div class="mt-2 space-x-2">
          <button class="text-xs bg-zinc-700 px-3 py-1 rounded text-white">Manage</button>
          <button class="text-xs bg-zinc-700 px-3 py-1 rounded text-white">Invoice</button>
          <button class="text-xs bg-zinc-700 px-3 py-1 rounded text-white">Add as Recipient</button>
        </div>
      </div>
      {% endif %}
    </div>

  </div>

  <!-- Organizer Fee Summary -->
  <div class="bg-zinc-900 p-6 rounded-xl shadow space-y-2">
    <h3 class="text-lg font-semibold mb-2">Organizer Fee Summary</h3>
    <p class="text-sm text-gray-400">Total Contribution This Period: <span class="font-semibold text-white">₦{{ total_contribution }}</span></p>
    <p class="text-sm text-gray-400">Your Fee (5%): <span class="font-bold text-white">₦{{ organizer_fee }}</span></p>
    <p class="text-sm text-gray-400">Platform Fee (1%): <span class="font-bold text-white">₦{{ platform_fee }}</span></p>
  </div>

</body>
</html>
